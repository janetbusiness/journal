<!DOCTYPE html>
<html>
<head>
  <title>Web Share API by Section</title>
  <style>
    /* Make the YouTube iframe responsive */
    .video-container {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<section id="episode1">
  <h2>Episode 1</h2>
  <div class="video-container">
    <iframe src="https://www.youtube.com/embed/random_video1" frameborder="0" allowfullscreen></iframe>
  </div>
  <button class="shareButton" data-title="Episode 1" data-url="#episode1">Share Episode 1</button>
</section>

<section id="episode2">
  <h2>Episode 2</h2>
  <div class="video-container">
    <iframe src="https://www.youtube.com/embed/random_video2" frameborder="0" allowfullscreen></iframe>
  </div>
  <button class="shareButton" data-title="Episode 2" data-url="#episode2">Share Episode 2</button>
</section>

<section id="episode3">
  <h2>Episode 3</h2>
  <div class="video-container">
    <iframe src="https://www.youtube.com/embed/random_video3" frameborder="0" allowfullscreen></iframe>
  </div>
  <button class="shareButton" data-title="Episode 3" data-url="#episode3">Share Episode 3</button>
</section>

<script>
  if (navigator.share) {
    const buttons = document.querySelectorAll('.shareButton');
    
    buttons.forEach(button => {
      button.addEventListener('click', async () => {
        const title = button.getAttribute('data-title');
        const urlFragment = button.getAttribute('data-url');
        const fullUrl = `${window.location.href}${urlFragment}`;
        
        try {
          await navigator.share({
            title: title,
            text: `Check out ${title}!`,
            url: fullUrl
          });
          console.log('Successfully shared');
        } catch (err) {
          console.log('Error sharing:', err);
        }
      });
    });
  } else {
    console.log('Web Share API not supported');
  }
</script>

</body>
</html>